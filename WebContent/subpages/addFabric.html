<div>
    <table id="fabric_table">
        <tr class="input">
            <td>
                <span>Hanger No.</span>
            </td>
            <td>
                <input class="required" id="hangerNo" name="hangerNo" type="text" />
            </td>
        </tr>

        <tr class="input">
            <td>
                <span>Construction</span>
            </td>
            <td>
                <input id="cstructnWarp" name="cstructnWarp" type="text" />
                <input id="cstructnWeft" name="cstructnWeft" type="text" />
            </td>
        </tr>


        <tr class="input">
            <td>
                <span>Yarn Size</span>
            </td>
            <td>
                <input id="yarnWarp" name="yarnWarp" type="text" />
                <input id="yarnWeft" name="yarnWeft" type="text" />
            </td>
        </tr>

        <tr class="input">
            <td>
                <span>Content</span>
            </td>
            <td>
                <input id="content" name="content" type="text" />
            </td>
        </tr>

        <tr class="input">
            <td>
                <span>Status</span>
            </td>
            <td>
                <input id="status" name="status" type="text" />
            </td>
        </tr>

        <tr class="input">
            <td>
                <span>Weaving</span>
            </td>
            <td>
                <input id="weaving" name="weaving" type="text" />
            </td>
        </tr>

        <tr class="input">
            <td>
                <span>Finishing</span>
            </td>
            <td>
                <input id="finishing" name="finishing" type="text" />
            </td>
        </tr>

        <tr class="input">
            <td>
                <span>Width</span>
            </td>
            <td>
                <input id="width" name="width" type="text" />
            </td>
        </tr>

        <tr class="input">
            <td>
                <span>Weight</span>
            </td>
            <td>
                <input id="weight" name="weight" type="text" />
            </td>
        </tr>

        <tr class="input">
            <td>
                <span>Article</span>
            </td>
            <td>
                <input id="article" name="article" type="text" />
            </td>
        </tr>
        <tr class="input">
            <td>
                <span>OriginalPrice</span>
            </td>
            <td>
                <input id="originalPrice" name="originalPrice" type="text" />
            </td>
        </tr>
        <tr class="input">
            <td>
                <span>FinalPrice</span>
            </td>
            <td>
                <input id="finalPrice" name="finalPrice" type="text" />
            </td>
        </tr>

    </table>
    <div id="fabric_table_msg"></div>

    <div>
        <button id="add_fabric">Add</button>
    </div>

</div>
<script>
$(document).ready(function() {

    $(".required").after("<span class='empty_message'>*</span>");

    $("#add_fabric").click(function() {

        if (!isEmpty()) {
            requestAddFabric()
        } else {
            $("#fabric_table_msg").html("<div><span class='empty_message'>Please check input data</span></div>");
        }
    });

});

function isEmpty(items) {
    var result = false;

    $(".required").each(function(i, n) {
        if ($(n).val() == "") {
            // $(n).after("<span class='empty_message'>can't be empty!</span>");
            // $(n).css({
            //     "background-color": "red"
            // });
            result = true;
        };
    });

    return result;

}

function addRequireStar(items) {

    for (var item in items) {
        $(item).after("*");
    }
}


function requestAddFabric() {
    $("#footer").html("");
    $.ajax({
        type: "post",
        url: "./AddFabric",
        cache: false,
        data: {
            hangerNo: $("#hangerNo").val(),
            cstructnWarp: $("#cstructnWarp").val(),
            cstructnWeft: $("#cstructnWeft").val(),
            yarnWarp: $("#yarnWarp").val(),
            yarnWeft: $("#yarnWeft").val(),
            content: $("#content").val(),
            status: $("#status").val(),
            weaving: $("#weaving").val(),
            finishing: $("#finishing").val(),
            width: $("#width").val(),
            weight: $("#weight").val(),
            article: $("#article").val(),
            originalPrice: $("#originalPrice").val(),
            finalPrice: $("#finalPrice").val()
        },
        // cache:false,
        // dataType:'json',
        success: function(data) {
            $("#footer").html(data);
        },
        error: function() {
            $("#footer").html("error");
        }
    });
}
</script>
